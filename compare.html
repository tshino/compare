<!DOCTYPE html>
<html lang="en" style="touch-action: none; -ms-content-zooming: none">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
	<title>Compare.html</title>
	<link rel="stylesheet" href="modules/compare.css">
	<script src="modules/jquery-3.5.1.min.js"></script>
	<script src="modules/compare-util.js" defer></script>
	<script src="modules/compare-ui.js" defer></script>
	<script src="compare.js" defer></script>
</head>
<body class="en">
<script>
const changeLang = function(lang) {
  if (lang !== '') {
    const newURL = location.href.replace(/\?.*/, '') + '?lang=' + lang;
    window.history.replaceState('', '', newURL);
    document.body.setAttribute('class', lang);
    document.documentElement.setAttribute('lang', lang);
  }
};
(function() {
  const m = location.search.match(/(?:\?|\&)lang\=([^&]+)/);
  const lang = m ? m[1] : (
    (window.navigator.languages && window.navigator.languages[0]) ||
    window.navigator.language ||
    window.navigator.userLanguage ||
    window.navigator.browserLanguage);
  if (lang && lang.match(/^ja/)) {
    document.body.setAttribute('class', 'ja');
    document.documentElement.setAttribute('lang', 'ja');
  }
})();
</script>

<input type="file" id="file" style="display:none;" accept="image/*" multiple>
<div id="viewroot">
	<div id="sidebar" class="vertical-toolbar">
		<button id="add">
			<img src="res/add.svg" alt="add new picture">
			<span class="tooltip en">Add new picture</span>
			<span class="tooltip ja">画像を追加</span>
		</button>
		<button id="camerabtn">
			<img src="res/camera.svg" alt="capture from camera">
			<span class="tooltip keys en">Capture from camera <span>Shift</span>+<span>c</span></span>
			<span class="tooltip keys ja">カメラから画像を取り込む <span>Shift</span>+<span>c</span></span>
		</button>
		<div class="space"></div>
		<button id="analysisbtn">
			<img src="res/histogram.svg" alt="show analysis tools">
			<span class="tooltip keys en">Show analysis tools <span>a</span></span>
			<span class="tooltip keys ja">分析ツールを表示 <span>a</span></span>
		</button>
		<button id="channelbtn">
			<img src="res/channel.svg" alt="channel view">
			<span class="tooltip keys en">Show channel view <span>q</span></span>
			<span class="tooltip keys ja">チャンネルビューを表示 <span>q</span></span>
		</button>
		<div class="bottom vertical-toolbar">
			<button id="fullscreen">
				<img src="res/full.svg" alt="fullscreen">
				<span class="tooltip keys en">Fullscreen <span>f</span></span>
				<span class="tooltip keys ja">フルスクリーン表示 <span>f</span></span>
			</button>
			<div class="space"></div>
			<button id="settingsbtn">
				<img src="res/settings.svg" alt="settings">
				<span class="tooltip keys en">Settings <span>s</span></span>
				<span class="tooltip keys ja">設定 <span>s</span></span>
			</button>
			<button id="helpbtn">
				<img src="res/help.svg" alt="show help">
				<span class="tooltip keys en">Show help <span>?</span></span>
				<span class="tooltip keys ja">ヘルプを表示 <span>?</span></span>
			</button>
		</div>
	</div>
	<div id="viewContainer">
		<div style="height:100%; position:relative; overflow:hidden">
			<div id="viewHud" class="hudContainer">
				<span id="mode" class="transparent light hud">
					<div class="header" style="display:inline-block">
						<h3>
							<span class="en"></span>
							<span class="ja"></span>
						</h3>
					</div>
				</span>
				<div id="map" class="transparent dark hud">
					<svg>
						<g stroke="none" fill="none" stroke-width="0.5" opacity="0.4">
							<rect id="mapROI" fill="gray" width="100%" height="100%"></rect>
							<rect id="mapFrame" stroke="white" x="0" y="0" width="100%" height="100%"></rect>
						</g>
					</svg>
				</div>
				<div id="navBox" style="position:relative; width:calc(100% - 50px); opacity:0.7;">
					<span class="dark hud" style="position:absolute; padding:3px; bottom:1px; left:50%; transform:translateX(-50%) translateX(12px);">
						<button id="prev" style="border-radius:50%">
							<img src="res/prev.svg" alt="prev">
						</button><button id="next" style="border-radius:50%">
							<img src="res/next.svg" alt="next">
						</button>
						<button id="arrange">
							<img src="res/layout_x.svg" alt="arrange layout">
							<span class="tooltip keys en">Arrange layout <span>/</span></span>
							<span class="tooltip keys ja">レイアウト変更 <span>/</span></span>
						</button><button id="gridbtn">
							<img src="res/grid.svg" alt="show grid">
							<span class="tooltip keys en">Show grid <span>g</span></span>
							<span class="tooltip keys ja">グリッドを表示 <span>g</span></span>
						</button><button id="overlay">
							<img src="res/overlay.svg" alt="overlay mode">
							<span class="tooltip keys en">Overlay mode <span>Shift</span>+<span>o</span></span>
							<span class="tooltip keys ja">オーバーレイモード <span>Shift</span>+<span>o</span></span>
						</button><button id="pickerbtn">
							<img src="res/rgb.svg" alt="show color picker">
							<span class="tooltip keys en">Show color picker <span>p</span></span>
							<span class="tooltip keys ja">カラーピッカーを表示 <span>p</span></span>
						</button>
						<button id="zoomIn">
							<img src="res/zoomin.svg" alt="zoom in">
							<span class="tooltip keys en">Zoom in <span>+</span></span>
							<span class="tooltip keys ja">拡大 <span>+</span></span>
						</button><button id="zoomOut">
							<img src="res/zoomout.svg" alt="zoom out">
							<span class="tooltip keys en">Zoom out <span>-</span></span>
							<span class="tooltip keys ja">縮小 <span>-</span></span>
						</button>
					</span>
				</div>
			</div>
			<div id="view">
				<div class="emptyBox" id="drop">
					<div class="dropHere">
						<span class="en">Drop image files here</span>
						<span class="ja">ここに画像ファイルをドラッグ＆ドロップ</span>
					</div>
				</div>
				<div class="emptyBox">
					<div class="dropHere">
						<span class="en">Drop image files here</span>
						<span class="ja">ここに画像ファイルをドラッグ＆ドロップ</span>
					</div>
				</div>
			</div>
		</div>
		<div id="statusbar">
			<div id="altViewMode" class="light hud">
				<button class="close">×</button>
				<div class="header">
					<h4 id="altViewModeDesc">
						<span class="en">Channel View</span>
						<span class="ja">チャンネルビュー</span>
					</h4>
				</div>
				<div class="toolbarElement" style="vertical-align: bottom;">
					<div id="altViewModeSwRGB" class="mode-sw">
						<button>Full</button>
						<button>R</button>
						<button>G</button>
						<button>B</button>
						<button>A</button>
					</div>
					<div id="altViewModeSwYCbCr" class="mode-sw">
						<button>Full</button>
						<button>Y</button>
						<button>Cb</button>
						<button>Cr</button>
						<button>A</button>
					</div>
				</div>
				<div id="altViewColorBar" class="toolbarElement" style="vertical-align: bottom;">
				</div>
				<div class="toolbarElement">
					<span class="en">Color Space :</span>
					<span class="ja">色空間 :</span>
					<select id="altViewColorSpace">
						<option value="rgb">RGB</option>
						<option value="ycbcr601">YCbCr (JPEG / BT.601)</option>
						<option value="ycbcr709">YCbCr (BT.709 HD)</option>
					</select>
				</div>
				<div class="toolbarElement">
					<span class="en">Representation :</span>
					<span class="ja">表示方法 :</span>
					<select class="en altViewMapping">
						<option value="grayscale">Grayscale</option>
						<option value="pseudocolor">Pseudocolor</option>
					</select>
					<select class="ja altViewMapping">
						<option value="grayscale">グレースケール</option>
						<option value="pseudocolor">疑似カラー</option>
					</select>
				</div>
				<input type="checkbox" id="altViewEnableAlpha">
					<span class="en">Alpha channel</span>
					<span class="ja">アルファチャンネル</span>
				</input>
			</div>
		</div>
	</div>
	<div id="camera" class="dialog">
		<div>
			<div class="header">
				<h3>
					<img src="res/camera.svg" width="20" alt="icon">
					<span class="en">Capture an Image From Camera</span>
					<span class="ja">カメラから画像を取り込む</span>
				</h3>
			</div>
			<div width="720" style="text-align:center">
				<div style="position:relative;background:#aaa">
					<video id="cameravideo" src="" style="display:block;min-width:60vw;height:60vh;margin:0px auto"></video>
					<div id="capturestatus" style="position:absolute;left:0px;right:0px;bottom:0px;opacity:0.5;line-height:40px;background:#444;color:white">
						<span class="en"></span>
						<span class="ja"></span>
					</div>
				</div>
				<button id="capture" disabled style="margin:10px;height:35px">
					<span class="en">Capture</span>
					<span class="ja">キャプチャ</span>
				</button>
			</div>
		</div>
	</div>
	<div id="shortcuts" class="dialog">
		<div>
			<div class="header">
				<div>
					<h3>
						<span class="en">Compare.html -image comparison tool-</span>
						<span class="ja">Compare.html -画像比較ツール-</span>
					</h3>
					<p><a href="https://github.com/tshino/compare" target="_blank">https://github.com/tshino/compare</a></p>
				</div>
				<div>
					<select id="selectLang" onchange="changeLang(this.options[this.selectedIndex].value)">
						<option value="">(Select language)</option>
						<option value="ja">日本語</option>
						<option value="en">English</option>
					</select>
				</div>
			</div>
			<div>
			<h4><span class="en">Keyboard Shortcuts</span><span class="ja">キーボードショートカット</span></h4>
			<table style="display:inline-block; vertical-align:top">
				<tr>
					<th colspan="2">
						<span class="en">View Manipulation</span>
						<span class="ja">ビュー操作</span>
					</th>
				</tr>
				<tr>
					<td class="keys"><span>+</span> / <span>-</span> / <span>PgUp</span> / <span>PgDn</span></td>
					<td><span class="en">zoom in/out</span><span class="ja">拡大/縮小</span></td>
				</tr>
				<tr>
					<td class="keys"><span>←</span> / <span>→</span> / <span>↑</span> / <span>↓</span></td>
					<td><span class="en">scroll</span><span class="ja">スクロール</span></td>
				</tr>
				<tr>
					<td class="keys"><span>1</span> / <span>2</span> / ... </td>
					<td><span class="en">switch to single picture view</span><span class="ja">1枚画像表示に切り替え</span></td>
				</tr>
				<tr>
					<td class="keys"><span>Tab</span></td>
					<td><span class="en">flip single picture view</span><span class="ja">1枚画像表示を順に切り替え</span></td>
				</tr>
				<tr>
					<td class="keys"><span>0</span></td>
					<td><span class="en">show all pictures</span><span class="ja">すべての画像を表示</span></td>
				</tr>
				<tr>
					<td class="keys"><span>/</span></td>
					<td><span class="en">arrange layout</span><span class="ja">レイアウト変更</span></td>
				</tr>
				<tr>
					<td class="keys"><span>Esc</span></td>
					<td><span class="en">reset zoom</span><span class="ja">拡大状態をリセット</span></td>
				</tr>
				<tr>
					<td class="keys"><span>Shift</span>+<span>o</span></td>
					<td><span class="en">overlay mode</span><span class="ja">オーバーレイモード</span></td>
				</tr>
				<tr>
					<td class="keys"><span>g</span></td>
					<td><span class="en">show grid</span><span class="ja">グリッドを表示</span></td>
				</tr>
				<tr>
					<td class="keys"><span>b</span></td>
					<td><span class="en">change background color</span><span class="ja">背景色を変更</span></td>
				</tr>
				<tr>
					<td class="keys"><span>f</span></td>
					<td><span class="en">full screen</span><span class="ja">フルスクリーン表示</span></td>
				</tr>
			</table>
			<table style="display:inline-block; vertical-align:top">
				<tr>
					<th colspan="2">
						<span class="en">Tools</span>
						<span class="ja">ツール</span>
					</th>
				</tr>
				<tr>
					<td class="keys"><span>a</span></td>
					<td><span class="en">analysis tools</span><span class="ja">分析ツール</span></td>
				</tr>
				<tr>
					<td class="keys"><span>i</span></td>
					<td><span class="en">image information</span><span class="ja">画像情報</span></td>
				</tr>
				<tr>
					<td class="keys"><span>h</span></td>
					<td><span class="en">histogram</span><span class="ja">ヒストグラム</span></td>
				</tr>
				<tr>
					<td class="keys"><span>w</span></td>
					<td><span class="en">waveform</span><span class="ja">波形</span></td>
				</tr>
				<tr>
					<td class="keys"><span>v</span></td>
					<td><span class="en">vectorscope</span><span class="ja">ベクトルスコープ</span></td>
				</tr>
				<tr>
					<td class="keys"><span>c</span></td>
					<td><span class="en">3D color distribution</span><span class="ja">3次元色分布</span></td>
				</tr>
				<tr>
					<td class="keys"><span>Shift</span>+<span>w</span></td>
					<td><span class="en">3D waveform</span><span class="ja">3次元波形</span></td>
				</tr>
				<tr>
					<td class="keys"><span>m</span></td>
					<td><span class="en">image quality metrics</span><span class="ja">画質メトリクス</span></td>
				</tr>
				<tr>
					<td class="keys"><span>t</span></td>
					<td><span class="en">tone curve estimation</span><span class="ja">トーンカーブ推定</span></td>
				</tr>
				<tr>
					<td class="keys"><span>o</span></td>
					<td><span class="en">optical flow</span><span class="ja">オプティカルフロー</span></td>
				</tr>
				<tr>
					<td class="keys"><span>d</span></td>
					<td><span class="en">image diff</span><span class="ja">画像のdiff</span></td>
				</tr>
				<tr>
					<td class="keys"><span>Shift</span>+<span>c</span></td>
					<td><span class="en">Capture an Image From Camera</span><span class="ja">カメラから画像を取り込む</span></td>
				</tr>
				<tr>
					<td class="keys"><span>s</span></td>
					<td><span class="en">settings</span><span class="ja">設定</span></td>
				</tr>
				<tr>
					<td class="keys"><span>?</span></td>
					<td><span class="en">show help</span><span class="ja">ヘルプ</span></td>
				</tr>
			</table>
			</div>
		</div>
	</div>
	<div id="info" class="dialog">
		<div>
			<div class="header">
				<h3>
					<img src="res/info.svg" width="20" alt="icon">
					<span class="en">Image Information</span>
					<span class="ja">画像情報</span>
				</h3>
			</div>
			<div>
				<table id="infoTable">
					<tr id="infoName" style="vertical-align: top">
						<td class="prop">
							<span class="en">Name</span>
							<span class="ja">名前</span>
						</td>
					</tr>
					<tr id="infoFormat" class="enum">
						<td class="prop">
							<span class="en">File format (*)</span>
							<span class="ja">ファイル形式 (※)</span>
						</td>
					</tr>
					<tr id="infoColor" class="enum">
						<td class="prop">
							<span class="en">Color format (*)</span>
							<span class="ja">色形式 (※)</span>
						</td>
					</tr>
					<tr id="infoWidth" class="num">
						<td class="prop">
							<span class="en">Width [px]</span>
							<span class="ja">幅 [px]</span>
						</td>
					</tr>
					<tr id="infoHeight" class="num">
						<td class="prop">
							<span class="en">Height [px]</span>
							<span class="ja">高さ [px]</span>
						</td>
					</tr>
					<tr id="infoAspect" class="num">
						<td class="prop">
							<span class="en">Aspect ratio</span>
							<span class="ja">アスペクト比</span>
						</td>
					</tr>
					<tr id="infoOrientation" class="enum">
						<td class="prop">
							<span class="en">Orientation (Exif)</span>
							<span class="ja">回転方向 (Exif)</span>
						</td>
					</tr>
					<tr id="infoNumFrames" class="num">
						<td class="prop">
							<span class="en">Number of animation frames</span>
							<span class="ja">アニメーションフレーム数</span>
						</td>
					</tr>
					<tr id="infoDuration" class="num">
						<td class="prop">
							<span class="en">Duration of animation [s]</span>
							<span class="ja">アニメーション時間 [秒]</span>
						</td>
					</tr>
					<tr id="infoFPS" class="num">
						<td class="prop">
							<span class="en">Animation FPS [frames/s]</span>
							<span class="ja">アニメーションFPS [フレーム/秒]</span>
						</td>
					</tr>
					<tr id="infoFileSize" class="num">
						<td class="prop">
							<span class="en">File size [bytes]</span>
							<span class="ja">ファイルサイズ [バイト]</span>
						</td>
					</tr>
					<tr id="infoLastModified" class="date">
						<td class="prop">
							<span class="en">File last modified date</span>
							<span class="ja">ファイル更新日時</span>
						</td>
					</tr>
				</table>
				<div class="footnote">
					<span class="en">
						* File formats and color formats are determined based on the file header.
					</span>
					<span class="ja">
						※ ファイルと色の形式はファイルのヘッダに基づいて判定しています
					</span>
				</div>
			</div>
		</div>
	</div>
	<div id="loading" class="dialog">
		<div>
			<h3 id="loadingStatus">
				<span class="en"></span>
				<span class="ja"></span>
			</h3>
			<table id="loadingList">
			</table>
		</div>
	</div>
	<div id="analysis" class="dialog">
		<div>
			<div class="header">
				<h3>
					<img src="res/histogram.svg" width="20" alt="icon">
					<span class="en">Analysis Tools</span>
					<span class="ja">分析ツール</span>
				</h3>
			</div>
			<div class="menu">
				<button id="infobtn">
					<img src="res/info.svg" width="20" alt="icon">
					<span class="en">Image Information</span>
					<span class="ja">画像情報</span>
					<span class="flat keys"><span>i</span></span>
				</button>
				<button id="histogrambtn">
					<img src="res/histogram.svg" width="20" alt="icon">
					<span class="en">Histogram</span>
					<span class="ja">ヒストグラム</span>
					<span class="flat keys"><span>h</span></span>
				</button>
				<button id="waveformbtn">
					<img src="res/waveform.svg" width="20" alt="icon">
					<span class="en">Waveform</span>
					<span class="ja">波形</span>
					<span class="flat keys"><span>w</span></span>
				</button>
				<button id="vectorscopebtn">
					<img src="res/vectorscope.svg" width="20" alt="icon">
					<span class="en">Vectorscope</span>
					<span class="ja">ベクトルスコープ</span>
					<span class="flat keys"><span>v</span></span>
				</button>
				<button id="colordistbtn">
					<img src="res/colordist.svg" width="20" alt="icon">
					<span class="en">3D Color Distribution</span>
					<span class="ja">3次元色分布</span>
					<span class="flat keys"><span>c</span></span>
				</button>
				<button id="waveform3Dbtn">
					<img src="res/colordist.svg" width="20" alt="icon">
					<span class="en">3D Waveform</span>
					<span class="ja">3次元波形</span>
					<span class="flat keys"><span>Shift</span>+<span>w</span></span>
				</button>
				<button id="colorfreqbtn">
					<img src="res/histogram.svg" width="20" alt="icon">
					<span class="en">Frequency of Colors</span>
					<span class="ja">色の頻度</span>
					<span class="flat keys"><span>u</span></span>
				</button>
				<button id="metricsbtn">
					<img src="res/psnr.svg" width="20" alt="icon">
					<span class="en">Image Quality Metrics (PSNR,MSE, etc)</span>
					<span class="ja">画質メトリクス (PSNR,MSE, etc)</span>
					<span class="flat keys"><span>m</span></span>
				</button>
				<button id="tonecurvebtn">
					<img src="res/tonecurve.svg" width="20" alt="icon">
					<span class="en">Tone Curve Estimation</span>
					<span class="ja">トーンカーブ推定</span>
					<span class="flat keys"><span>t</span></span>
				</button>
				<button id="opticalflowbtn">
					<img src="res/optflow.svg" width="20" alt="icon">
					<span class="en">Optical Flow</span>
					<span class="ja">オプティカルフロー</span>
					<span class="flat keys"><span>o</span></span>
				</button>
				<button id="diffbtn">
					<img src="res/diff.svg" width="20" alt="icon">
					<span class="en">Image Diff</span>
					<span class="ja">画像のdiff</span>
					<span class="flat keys"><span>d</span></span>
				</button>
			</div>
		</div>
	</div>
	<div id="histogram" class="dialog">
		<div>
			<div class="header">
				<h3>
					<img src="res/histogram.svg" width="20" alt="icon">
					<span class="en">Histogram</span>
					<span class="ja">ヒストグラム</span>
				</h3>
				<div id="histogramType" class="mode-sw">
					<button class="current">1. RGB</button>
					<button>2. <span class="en">Luminance</span><span class="ja">輝度</span></button>
					<button>3. YCbCr</button>
				</div>
			</div>
			<table id="histoTable">
				<tr class="label"><td></tr>
				<tr class="figure"><td></tr>
				<tr class="info"><td></tr>
			</table>
			<div style="height:34px">
				<div id="histogramRowLayout" class="button-group">
					<button class="current image-btn" style="height:30px;min-width:auto">
						<img src="res/3row.svg" alt="3 row" style="width:24px; vertical-align:bottom;">
					</button>
				</div>
				<div id="histogramAuxType2" class="button-group">
					<button class="current">BT.601/JPEG</button>
					<button>BT.709/HD</button>
				</div>
			</div>
		</div>
	</div>
	<div id="waveform" class="dialog">
		<div>
			<div class="header">
				<h3>
					<img src="res/waveform.svg" width="20" alt="icon">
					<span class="en">Waveform</span>
					<span class="ja">波形</span>
				</h3>
				<div id="waveformType" class="mode-sw">
					<button class="current">1. RGB</button>
					<button>2. <span class="en">Luminance</span><span class="ja">輝度</span></button>
					<button>3. YCbCr</button>
				</div>
			</div>
			<table id="waveTable">
				<tr class="label"><td></tr>
				<tr class="figure"><td></tr>
			</table>
			<div id="waveformAuxOption" style="height:34px">
				<div id="waveformColumnLayout" class="button-group">
					<button class="current image-btn" style="height:30px;min-width:auto">
						<img src="res/3column.svg" alt="3 column" style="width:24px; vertical-align:bottom;">
					</button>
				</div>
				<div id="waveformAuxType" class="button-group">
					<button class="current">sRGB</button>
					<button>Linear sRGB</button>
				</div>
				<div id="waveformAuxType2" class="button-group">
					<button class="current">BT.601/JPEG</button>
					<button>BT.709/HD</button>
				</div>
			</div>
		</div>
	</div>
	<div id="vectorscope" class="dialog">
		<div>
			<div class="header">
				<h3>
					<img src="res/vectorscope.svg" width="20" alt="icon">
					<span class="en">Vectorscope</span>
					<span class="ja">ベクトルスコープ</span>
				</h3>
				<div id="vectorscopeType" class="mode-sw">
					<button class="current">1. Cb-Cr</button>
					<button>2. x-y</button>
					<button>3. G-B</button>
					<button>4. G-R</button>
					<button>5. B-R</button>
				</div>
				<div id="vectorscopeColor" class="button-group">
					<button>
						<span class="en">Color</span><span class="ja">色つき</span>
						<span class="flat keys"><span>q</span></span>
					</button>
				</div>
			</div>
			<table id="vectorscopeTable">
				<tr class="label"><td></tr>
				<tr class="figure"><td></tr>
			</table>
			<div id="vectorscopeAuxOption" style="height:34px">
				<div id="vectorscopeAuxType" class="button-group">
					<button class="current">sRGB</button>
					<button>Linear sRGB</button>
				</div>
				<div id="vectorscopeAuxType2" class="button-group">
					<button class="current">BT.601/JPEG</button>
					<button>BT.709/HD</button>
				</div>
			</div>
		</div>
	</div>
	<div id="colorDist" class="dialog">
		<div>
			<div class="header">
				<h3>
					<img src="res/colordist.svg" width="20" alt="icon">
					<span class="en">3D Color Distribution</span>
					<span class="ja">3次元色分布</span>
				</h3>
				<div id="colorDistType" class="mode-sw">
					<button class="current">1. RGB</button>
					<button>2. HSV</button>
					<button>3. HSL</button>
					<button>4. YCbCr</button>
					<button>5. CIE xyY</button>
				</div>
				<div id="colorDistColor" class="button-group">
					<button class="current">
						<span class="en">Color</span><span class="ja">色つき</span>
						<span class="flat keys"><span>q</span></span>
					</button>
				</div>
			</div>
			<table id="colorDistTable">
				<tr class="label"><td></tr>
				<tr class="figure"><td></tr>
			</table>
			<div id="colorDistAuxOption" style="height:34px">
				<div id="colorDistAuxType" class="button-group">
					<button class="current">sRGB</button>
					<button>Linear sRGB</button>
				</div>
				<div id="colorDistAuxType2" class="button-group">
					<button class="current">BT.601/JPEG</button>
					<button>BT.709/HD</button>
				</div>
			</div>
		</div>
	</div>
	<div id="waveform3D" class="dialog">
		<div>
			<div class="header">
				<h3>
					<img src="res/colordist.svg" width="20" alt="icon">
					<span class="en">3D Waveform</span>
					<span class="ja">3次元波形</span>
				</h3>
				<div id="waveform3DType" class="mode-sw">
					<button class="current">1. <span class="en">Luminance</span><span class="ja">輝度</span></button>
					<button>2. R</button>
					<button>3. G</button>
					<button>4. B</button>
				</div>
			</div>
			<table id="waveform3DTable">
				<tr class="label"><td></tr>
				<tr class="figure"><td></tr>
			</table>
			<div id="waveform3DAuxOption" style="height:34px">
				<div id="waveform3DAuxType" class="button-group">
					<button class="current">sRGB</button>
					<button>Linear sRGB</button>
				</div>
				<div id="waveform3DAuxType2" class="button-group">
					<button class="current">BT.601/JPEG</button>
					<button>BT.709/HD</button>
				</div>
			</div>
		</div>
	</div>
	<div id="colorFreq" class="dialog">
		<div>
			<div class="header">
				<h3>
					<img src="res/histogram.svg" width="20" alt="icon">
					<span class="en">Frequency of Colors</span>
					<span class="ja">色の頻度</span>
				</h3>
			</div>
			<table id="colorFreqTable">
				<tr class="label"><td></tr>
				<tr class="figure"><td></tr>
			</table>
			<div class="footnote">
				<span class="en">
					* Each row in the figure represents a group of similar colors and shows its representative color and percentage of total.
				</span>
				<span class="ja">
					※ 似ている色をグループにまとめて、それぞれの代表的な色と画像全体に占める割合を示しています。
				</span>
			</div>
		</div>
	</div>
	<div id="metrics" class="dialog">
		<div>
			<div class="header">
				<h3>
					<img src="res/psnr.svg" width="20" alt="icon">
					<span class="en">Image Quality Metrics</span>
					<span class="ja">画質メトリクス</span>
				</h3>
				<div id="metricsMode" class="mode-sw">
					<button class="current">1. RGB</button>
					<button>2. <span class="en">Luminance</span><span class="ja">輝度</span></button>
				</div>
			</div>
			<div>
				<table id="metricsTable">
					<tr id="metricsBaseName">
						<td class="prop" colspan="2">
							<span class="en">Base Image</span>
							<span class="ja">基準画像</span>
						</td>
					</tr>
					<tr id="metricsTargetName">
						<td class="prop" colspan="2">
							<span class="en">Target Image</span>
							<span class="ja">対象画像</span>
						</td>
					</tr>
					<tr id="psnrValue" class="num">
						<td class="prop" rowspan="7" style="min-width:auto;vertical-align:baseline"><span id="metricsModeLabel"></span> <span class="en">(*)</span><span class="ja">(※)</span></td>
						<td class="prop">
							<span class="en">PSNR (*)</span>
							<span class="ja">PSNR (※)</span>
						</td>
					</tr>
					<tr id="rmseValue" class="num">
						<td class="prop">
							<span class="en">RMSE (*)</span>
							<span class="ja">RMSE (※)</span>
						</td>
					</tr>
					<tr id="mseValue" class="num">
						<td class="prop">
							<span class="en">MSE (*)</span>
							<span class="ja">MSE (※)</span>
						</td>
					</tr>
					<tr id="maeValue" class="num">
						<td class="prop">
							<span class="en">MAE (*)</span>
							<span class="ja">MAE (※)</span>
						</td>
					</tr>
					<tr id="ssdValue" class="num">
						<td class="prop">
							<span class="en">SSD (*)</span>
							<span class="ja">SSD (※)</span>
						</td>
					</tr>
					<tr id="sadValue" class="num">
						<td class="prop">
							<span class="en">SAD (*)</span>
							<span class="ja">SAD (※)</span>
						</td>
					</tr>
					<tr id="nccValue" class="num">
						<td class="prop">
							<span class="en">NCC (*)</span>
							<span class="ja">NCC (※)</span>
						</td>
					</tr>
					<tr id="aeValue" class="num">
						<td class="prop" colspan="2">
							<span class="en">Number of different pixels (RGBA)</span>
							<span class="ja">異なるピクセルの数 (RGBA)</span>
						</td>
					</tr>
				</table>
				<div class="footnote">
					<span class="en">
						* RGB/Luminance = Comparison mode (RGB: compare 3 components (=RGB) of each pixel / Luminance: compare single value (=luminance) of each pixel)<br>
						* PSNR = Peak signal-to-noise ratio (<strong>higher</strong> is more similar)<br>
						* RMSE = Root-mean-square error (<strong>lower</strong> is more similar)<br>
						* MSE = Mean squared error (<strong>lower</strong> is more similar)<br>
						* MAE = Mean absolute error (<strong>lower</strong> is more similar)<br>
						* SSD = Sum of squared difference (<strong>lower</strong> is more similar)<br>
						* SAD = Sum of absolute difference (<strong>lower</strong> is more similar)<br>
						* NCC = Normalized cross-correlation (<strong>higher</strong> is more similar)
					</span>
					<span class="ja">
						※RGB/輝度 = 比較モード (RGBは各ピクセルを3成分(=RGB)で比較、輝度は各ピクセルを1成分(=輝度)で比較)<br>
						※PSNR (Peak signal-to-noise ratio) = ピーク信号対雑音比 (<strong>大きい</strong>方が似ている)<br>
						※RMSE (Root-mean-square error) = 平均二乗誤差の平方根 (<strong>小さい</strong>方が似ている)<br>
						※MSE (Mean squared error) = 平均二乗誤差 (<strong>小さい</strong>方が似ている)<br>
						※MAE (Mean absolute error) = 平均絶対誤差 (<strong>小さい</strong>方が似ている)<br>
						※SSD (Sum of squared difference) = 差の二乗の合計 (<strong>小さい</strong>方が似ている)<br>
						※SAD (Sum of absolute difference) = 差の絶対値の合計 (<strong>小さい</strong>方が似ている)<br>
						※NCC (Normalized cross-correlation) = 正規化相互相関 (<strong>大きい</strong>方が似ている)
					</span>
				</div>
			</div>
			<div id="metricsAuxOption" style="height:34px">
				<div id="metricsAuxType2" class="button-group">
					<button class="current">BT.601/JPEG</button>
					<button>BT.709/HD</button>
				</div>
			</div>
		</div>
	</div>
	<div id="toneCurve" class="dialog">
		<div>
			<div class="header">
				<h3>
					<img src="res/tonecurve.svg" width="20" alt="icon">
					<span class="en">Tone Curve Estimation</span>
					<span class="ja">トーンカーブ推定</span>
				</h3>
				<div id="toneCurveType" class="mode-sw">
					<button>1. RGB</button>
					<button class="current">2. <span class="en">Luminance</span><span class="ja">輝度</span></button>
				</div>
			</div>
			<div>
				<table id="toneCurveTable">
					<tr class="basename">
						<td class="prop">
							<span class="en">Base Image</span>
							<span class="ja">基準画像</span>
						</td>
						<td style="min-width: 216px"></td>
					</tr>
					<tr class="label">
						<td class="prop">
							<span class="en">Target Image</span>
							<span class="ja">対象画像</span>
						</td>
					</tr>
					<tr class="figure"><td class="prop"></tr>
				</table>
				<div class="footnote">
					<span class="en">
						* The curve is the estimated tone curve calculated based on the histogram so that the cumulative frequency for each luminance of each image matches.<br>
						* The shading in the figure show the distribution of tone map between every corresponding pixels of the two images.
					</span>
					<span class="ja">
						※ 曲線は、各画像の輝度ごとの累積度数が一致するようにヒストグラムを元にして計算された推定トーンカーブです<br>
						※ 図の濃淡は、2つの画像の対応するピクセル間の輝度の対応（トーンマップ）の分布を示します
					</span>
				</div>
			</div>
			<div id="toneCurveAuxOption" style="height:34px">
				<div id="toneCurveAuxType2" class="button-group">
					<button class="current">BT.601/JPEG</button>
					<button>BT.709/HD</button>
				</div>
			</div>
		</div>
	</div>
	<div id="opticalFlow" class="dialog">
		<div>
			<div class="header">
				<h3>
					<img src="res/optflow.svg" width="20" alt="icon">
					<span class="en">Optical Flow</span>
					<span class="ja">オプティカルフロー</span>
				</h3>
				<button id="opticalFlowGridBtn" class="image-btn">
					<img src="res/grid.svg" alt="show grid" style="width:24px; vertical-align:bottom;">
				</button>
			</div>
			<div>
				<table>
					<tr>
						<td class="prop">
							<span class="en">Base Image</span>
							<span class="ja">基準画像</span>
						</td>
						<td id="opticalFlowBaseName" style="min-width: 216px"></td>
						<td class="prop">
							<span class="en">Target Image</span>
							<span class="ja">対象画像</span>
						</td>
						<td id="opticalFlowTargetName" style="min-width: 216px" colspan="2"></td>
					</tr>
					<tr>
						<td id="opticalFlowResult" class="fig" colspan="4"></td>
						<td class="prop"><table>
							<tr>
								<td class="prop">
									<span class="en">Avg. ΔX</span>
									<span class="ja">平均 ΔX</span>
								</td>
								<td id="opticalFlowDeltaX"></td>
							</tr>
							<tr>
								<td class="prop">
									<span class="en">Avg. ΔY</span>
									<span class="ja">平均 ΔY</span>
								</td>
								<td id="opticalFlowDeltaY"></td>
							</tr>
							<tr>
								<td class="prop">
									<span class="en">Selected ΔX</span>
									<span class="ja">選択中 ΔX</span>
								</td>
								<td id="opticalFlowSelectedDeltaX"></td>
							</tr>
							<tr>
								<td class="prop">
									<span class="en">Selected ΔY</span>
									<span class="ja">選択中 ΔY</span>
								</td>
								<td id="opticalFlowSelectedDeltaY"></td>
							</tr>
						</table></td>
					</tr>
					<tr>
						<td class="output" colspan="5" style="text-align:center">
							<span id="opticalFlowSummary"></span>
						</td>
					</tr>
				</table>
			</div>
		</div>
	</div>
	<div id="diff" class="dialog">
		<div style="min-width:90vw">
			<div class="header">
				<h3>
					<img src="res/diff.svg" width="20" alt="icon">
					<span class="en">Image Diff</span>
					<span class="ja">画像のdiff</span>
				</h3>
				<div id="diffImageType" class="mode-sw">
					<button class="current">1. <span class="en">Color-coded</span><span class="ja">色分け</span></button>
					<button>2. <span class="en">Difference</span><span class="ja">差</span></button>
				</div>
				<div class="button-group">
					<button id="diffGridBtn" class="image-btn" style="height:30px;min-width:auto;">
						<img src="res/grid.svg" alt="show grid" style="width:24px; vertical-align:bottom;">
					</button>
				</div>
			</div>
			<div style="display:inline-block; vertical-align:top">
				<table>
					<tr>
						<td class="prop">
							<span class="en">Base Image</span>
							<span class="ja">基準画像</span>
						</td>
						<td id="diffBaseName"></td>
					</tr>
					<tr>
						<td class="prop">
							<span class="en">Target Image</span>
							<span class="ja">対象画像</span>
						</td>
						<td id="diffTargetName"></td>
					</tr>
					<tr>
						<td id="diffResult" class="fig" colspan="2"></td>
					</tr>
					<tr>
						<td class="output" colspan="2" style="text-align:center">
							<span id="diffSummary"></span>
							<span style="float:right">
								<a id="diffSaveFigure" href="#">
									<span class="en">Save this figure</span>
									<span class="ja">この図を保存</span>
								</a>
								<a id="diffSaveFigureHelper" download="imagediff.png" href="#" style="display:none"></a>
							</span>
						</td>
					</tr>
				</table>
				<div class="footnote" id="diffImageType0Footnote" style="height:20px">
					<svg viewBox="0 0 40 40" style="width:20px; vertical-align:bottom;">
						<path fill="#444444" stroke="#888" stroke-width="1.5" stroke-linejoin="round" d="M 20,35 L 5,35 5,5 35,5 35,35 20,35 Z"/>
					</svg>
					<span class="en">Matched</span><span class="ja">一致</span>
					<svg viewBox="0 0 40 40" style="width:20px; vertical-align:bottom;">
						<path fill="#4444ff" stroke="#888" stroke-width="1.5" stroke-linejoin="round" d="M 20,35 L 5,35 5,5 35,5 35,35 20,35 Z"/>
					</svg>
					<span class="en">Ignored Unmatched</span><span class="ja">無視した不一致</span>
					<span id="diffIgnoredUnmatchedRange"></span>
					<svg viewBox="0 0 40 40" style="width:20px; vertical-align:bottom;">
						<path fill="#ff4444" stroke="#888" stroke-width="1.5" stroke-linejoin="round" d="M 20,35 L 5,35 5,5 35,5 35,35 20,35 Z"/>
					</svg>
					<span class="en">Unmatched</span><span class="ja">不一致</span>
					<span id="diffUnmatchedRange"></span>
				</div>
				<div class="footnote" id="diffImageType1Footnote" style="height:20px">
					<span class="en">* Above image shows the magnitude of difference of each pixel by intensity</span>
					<span class="ja">※ 各ピクセルのRGBA誤差の大きさを輝度で表しています</span>
					<div style="float:right">
					x <input id="diffImageBrightness" style="width:40px" type="number" min="1" max="32" value="8">
					</div>
				</div>
			</div>
			<div style="display:inline-block; vertical-align:top; min-width:auto">
				<b>
					<span class="en">RGBA error</span>
					<span class="ja">RGBA誤差</span>
				</b>
				<table width="380">
					<tr class="prop">
						<td class="output">
							<span class="en">detected max value:</span>
							<span class="ja">検出した最大誤差:</span>
						</td>
						<td class="output" id="diffDetectedMaxAE"></td>
					</tr>
					<tr class="num">
						<td class="input">
							<span class="en">max value to ignore</span>
							<span class="ja">無視する誤差の大きさ</span>
							(0-255)
						</td>
						<td class="input"><input id="diffIgnoreAE" type="number" min="0" max="255" value="0"></td>
					</tr>
					<tr class="prop">
						<td class="output">
							<span class="en">ignored unmatched pixels:</span>
							<span class="ja">無視した不一致ピクセル:</span>
						</td>
						<td class="output" id="diffIgnoreAEResult"></td>
					</tr>
					<tr class="prop">
						<td class="output" colspan="2" id="diffAEHistogram">
							<span class="en">Error Histogram:</span>
							<span class="ja">誤差ヒストグラム:</span>
							<br>
						</td>
					</tr>
				</table>
				<b class="diffDimension">
					<span class="en">Dimension option</span>
					<span class="ja">画像サイズオプション</span>
				</b>
				<table class="diffDimension" width="380">
					<tr>
						<td class="input" colspan="2">
							<select class="diffDimensionOption en">
								<option value="resize">resize to fit to larger one</option>
								<option value="max">no resize (compare in larger dimension)</option>
								<option value="min">no resize (compare in smaller dimension)</option>
							</select>
							<select class="diffDimensionOption ja">
								<option value="resize">大きい方に合わせてリサイズ</option>
								<option value="max">リサイズなし（大きいサイズで比較）</option>
								<option value="min">リサイズなし（小さいサイズで比較）</option>
							</select>
						</td>
					</tr>
					<tr>
						<td class="input">
							<span class="en">resize method:</span>
							<span class="ja">リサイズ方法:</span>
						</td>
						<td class="input">
							<select id="diffResizeMethod">
								<option value="lanczos3">Lanczos3</option>
								<option value="lanczos2">Lanczos2</option>
								<option value="bilinear">Bilinear</option>
								<option value="nn">Nearest neighbor</option>
							</select>
						</td>
					</tr>
				</table>
				<b>
					<span class="en">Offset before compare</span>
					<span class="ja">オフセットして比較</span>
				</b>
				<table width="380">
					<tr class="num">
						<td class="input">X,Y [px]</td>
						<td class="input"><input id="diffOffsetX" type="number" min="-9999" max="9999" value="0"></td>
						<td class="input"><input id="diffOffsetY" type="number" min="-9999" max="9999" value="0"></td>
					</tr>
				</table>
			</div>
		</div>
	</div>
	<div id="settings" class="dialog">
		<div>
			<div class="header">
				<h3>
					<img src="res/settings.svg" width="20" alt="icon">
					<span class="en">Settings</span>
					<span class="ja">設定</span>
				</h3>
				<div class="button-group">
					<button id="settingsReset" style="min-width:200px">
						<span class="en">Restore default</span>
						<span class="ja">初期設定に戻す</span>
					</button>
				</div>
			</div>
			<table>
				<tr>
					<td class="prop"><span class="en">Background color</span><span class="ja">背景色</span></td>
					<td class="settings">
						<input id="settingsBGColor" type="color" style="display:none">
						<input id="settingsBGColorText" type="text" style="width:80px">
						<button id="bgcolorbtn" class="image-btn" style="height:30px;">
							<svg viewBox="0 0 4000 4000" style="width:24px; vertical-align:bottom;">
								<path fill="#444444" stroke="rgb(0,0,0)" stroke-width="200" stroke-linejoin="round" d="M 2000,3500 L 500,3500 500,500 3500,500 3500,3500 2000,3500 Z"/>
							</svg>
						</button>
						|
						<button id="settingsBGChecker" class="image-btn" style="height:30px;">
							<img src="res/checker.png" alt="checker" style="width:24px; vertical-align:bottom;">
						</button>
					</td>
				</tr>
				<tr id="settingsImageScalingRow">
					<td class="prop"><span class="en">Image scaling style</span><span class="ja">画像の拡大スタイル</span></td>
					<td class="settings">
						<div id="settingsImageScalingButtons" class="button-group">
							<button data-value="smooth" class="image-btn">
								<img src="res/smooth.svg" width="85" alt="smooth"><br>
								<span class="en">Smooth interpolation</span><span class="ja">滑らかに補間</span>
							</button>
							<button data-value="pixel" class="image-btn">
								<img src="res/pixelated.svg" width="85" alt="pixelated"><br>
								<span class="en">Maintain pixel shape</span><span class="ja">ピクセル形状を維持</span>
							</button>
						</div>
					</td>
				</tr>
				<tr>
					<td class="prop"><span class="en">Grid interval (aux/main)</span><span class="ja">グリッド間隔（補助/主）</span></td>
					<td class="settings">
						<div><input type="radio" name="settingsGridInterval" value="16/256"> 16 px / 256 px</div>
						<div><input type="radio" name="settingsGridInterval" value="10/100"> 10 px / 100 px</div>
						<div><input type="radio" name="settingsGridInterval" value="8/64"> 8 px / 64 px</div>
						<div>
							<input type="radio" name="settingsGridInterval" value="other">
							<input type="number" min="1" max="256" value="4" style="width:80px" id="settingsGridIntervalFreeAux"> px /
							<input type="number" min="1" max="256" value="16" style="width:80px" id="settingsGridIntervalFreeMain"> px
						</div>
					</td>
				</tr>
			</table>
		</div>
	</div>
	<div id="messageBox" class="dialog">
		<div>
			<div class="header" id="messageBoxBody">
			</div>
		</div>
	</div>
</div>

</body>
</html>
